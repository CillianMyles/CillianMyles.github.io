<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Article">
<head>
  <!-- Import Google Icon Font -->
  <link rel="stylesheet" href="../../../../styles/icons.css">

  <!-- Import materialize.css -->
  <link rel="stylesheet" href="../../../../styles/materialize.css">

  <!-- General / Compatibility -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Info -->
  <title>Cillian Myles</title>
  <meta name="author" content="Cillian Myles">
  <meta name="description" content="How about when you have an application, which serves users from all over the world? Where you need to display date-times which are correct for all the different users? Who may work together on the same team, but live in different parts/zones of the world? Well then buckle your seat belts and prepare for liftoff! üöÄüöÄüöÄ"/>
  <link rel="shortcut icon" type="image/png" href="../../../../images/favicon.png">

  <!-- Schema.org markup for Google+ -->
  <meta itemprop="name" content="A Brief History of Time (Zones)">
  <meta itemprop="description" content="How about when you have an application, which serves users from all over the world? Where you need to display date-times which are correct for all the different users? Who may work together on the same team, but live in different parts/zones of the world? Well then buckle your seat belts and prepare for liftoff! üöÄüöÄüöÄ">
  <meta itemprop="image" content="https://cillianmyles.github.io/images/timezones/tesseract.jpg">

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@mylsey4thewin">
  <meta name="twitter:title" content="A Brief History of Time (Zones)">
  <meta name="twitter:description" content="How about when you have an application, which serves users from all over the world? Where you need to display date-times which are correct for all the different users? Who may work together on the same team, but live in different parts/zones of the world? Well then buckle your seat belts and prepare for liftoff! üöÄüöÄüöÄ">
  <meta name="twitter:creator" content="@mylsey4thewin">
  <meta name="twitter:image:src" content="https://cillianmyles.github.io/images/timezones/tesseract.jpg">

  <!-- Open Graph data -->
  <meta property="og:title" content="A Brief History of Time (Zones)"/>
  <meta property="og:type" content="article"/>
  <meta property="og:url" content="https://cillianmyles.github.io/blog/2018/09/27/a-brief-history-of-time-zones.html"/>
  <meta property="og:image" content="https://cillianmyles.github.io/images/timezones/tesseract.jpg"/>
  <meta property="og:description" content="How about when you have an application, which serves users from all over the world? Where you need to display date-times which are correct for all the different users? Who may work together on the same team, but live in different parts/zones of the world? Well then buckle your seat belts and prepare for liftoff! üöÄüöÄüöÄ"/>
  <meta property="og:site_name" content="Cillian Myles"/>
  <meta property="article:published_time" content="2018-09-27T18:30:00+02:00"/>
  <meta property="article:modified_time" content="2018-09-27T18:30:00+02:00"/>
  <meta property="article:section" content="Technology"/>
  <meta property="article:tag" content="Technology"/>
  <meta property="article:tag" content="Programming"/>
  <meta property="article:tag" content="Education"/>
  <meta property="article:tag" content="Entrepreneurship"/>
  <meta property="article:tag" content="Android"/>
  <meta property="article:tag" content="Java"/>
  <meta property="article:tag" content="Kotlin"/>
  <meta property="article:tag" content="Software"/>
  <meta property="article:tag" content="Engineering"/>
  <meta property="article:tag" content="Timezones"/>
  <meta property="fb:admins" content=""/>
  <meta property="fb:app_id" content=""/>

  <style type="text/css">
      body {
        display: flex;
        min-height: 100vh;
        flex-direction: column;
      }

      main {
        flex: 1 0 auto;
      }

      .img-header {
        display: block;
        margin: auto;
        width: auto;
        height: auto;
        border: 2px solid white;
      }

      .github-blockquote {
        background: #f8f8f8;
        border-left: 10px solid #ccc;
        margin: 1.5em 10px;
        padding: .53m 10px;
      }

      .github-blockquote:before {
        color: #ccc;
        font-size: 4em;
        line-height: .1em;
        margin-right: .25em;
        vertical-align: -.43m;
      }

      .github-blockquote p {
        display: inline;
        padding-left: 5px;
      }

      .card {
        margin: 1em auto;
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center center;
        border: 5px solid #eee;
        box-shadow: 0 3px 2px rgba(0, 0, 0, 0.3);
      }

      .no-margins {
        margin: 0px !important;
      }
  </style>
</head>

<body class="grey darken-4">

<!-- Top Navigation -->
<nav class="grey darken-2">
  <div class="nav-wrapper container">
    <a href="../../../../index.html" class="brand-logo">Cillian Myles</a>
    <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
    <ul class="right hide-on-med-and-down">
      <li><a href="../../../../about.html">About</a></li>
      <li><a href="../../../../portfolio.html">Portfolio</a></li>
      <li class="active"><a href="../../../../blog.html">Blog</a></li>
      <li><a href="../../../../contact.html">Contact</a></li>
    </ul>
    <ul class="side-nav" id="mobile-demo">
      <li><a href="../../../../about.html">About</a></li>
      <li><a href="../../../../portfolio.html">Portfolio</a></li>
      <li class="active"><a href="../../../../blog.html">Blog</a></li>
      <li><a href="../../../../contact.html">Contact</a></li>
    </ul>
  </div>
</nav>

<!-- Main -->
<main class="container">
  <br>
  <h3 class="white-text" style="text-align: left;">
    A Brief History of Time (Zones)
  </h3>
  <br><br>
  <img class="responsive-img materialboxed img-header" src="../../../../images/timezones/tesseract.jpg">
  <br><br>
  <p class="flow-text white-text">
    In the movie Interstellar (great watch by the way - would totally watch it again even though I‚Äôve
    seen it at least five times), towards the final scenes (spoiler alert), Coop (Matthew McConaughey)
    travels through a black hole (caution: as in an otherwise scientifically accurate film, we are
    undeniably leaving the realms of the known here). In so doing, he gains the ability to travel through
    the time dimension at will - the same way we ‚Äúunderprivileged‚Äù folk can travel through the three
    physical dimensions any way we desire.
  </p>
  <br>
  <p class="flow-text white-text">
    We intrinsically understand that there is a fourth dimension. Hold on I will prove it to you.
  </p>
  <!-- TODO: fix blockquote bg colour -->
  <blockquote class="github-blockquote">
    <p class="flow-text dark-grey-text">"I'll meet you at the Empire State building, New York city."</p>
  </blockquote>
  <blockquote class="github-blockquote">
    <p class="flow-text dark-grey-text">"... when?"</p>
  </blockquote>
  <blockquote class="github-blockquote">
    <p class="flow-text dark-grey-text">"I'll meet you at 6pm, Thursday September 13, 2018."</p>
  </blockquote>
  <blockquote class="github-blockquote">
    <p class="flow-text dark-grey-text">"... where?"</p>
  </blockquote>
  <br>
  <p class="flow-text white-text">
    Yes of course there are the obvious three physical dimensions, but a time component is crucial if we
    are to gain anything meaningful from a physical location. A place (in three dimensional space) is
    meaningless without a time. Likewise a time without a space coordinate is just as useless.
  </p>
  <br>
  <br>
  <br>
  <div id="4d-space-light-cone" style="width:100%; margin-bottom:20px; text-align:center">
    <img alt=""
         class="img-responsive"
         style="width:60%"
         src="../../../../images/timezones/4d-space-light-cone.jpg">
    <div style="margin-top:0px; padding-bottom:15px;">
      <small><a target="_blank" href="http://www.astronomytrek.com/7-profound-questions-about-time">Image source</a>
      </small>
    </div>
  </div>
  <br>
  <p class="flow-text white-text">
    I‚Äôm here today to add another layer of complexity to the scenario which you may never have even considered (unlikely
    as I presume you at the very least have an interest in software development, since you‚Äôre reading this). In today‚Äôs
    world, daylight savings could very well mean ‚ÄúCloudy Friday‚Äù, because our ‚Äúsmart‚Äù devices ‚Äúautomagically‚Äù handle a
    lot of the difficult problems we face.
  </p>
  <br>
  <p class="flow-text white-text">
    Problems like, for example, adding an extra hour of sunlight when the days are supposed to be longer, and taking it
    back again when that is supposed to happen. We don‚Äôt want to know more about these theoretically interesting (but
    actually very complicated) problems. In the spirit of Newton we want to stand on the shoulders of giants and not
    ‚Äúreinvent the wheel‚Äù. In reality, we just don‚Äôt want to have to deal with the problems because‚Ä¶ well‚Ä¶ they‚Äôre hard!
  </p>
  <br>
  <br>
  <br>
  <div id="shouldnt-be-hard" style="width:100%; text-align:center">
    <img alt=""
         class="img-responsive"
         style="width:100%"
         src="../../../../images/timezones/shouldnt-be-hard.png">
    <div style="margin-top:0px; padding-bottom:15px;">
      <small><a target="_blank" href="https://xkcd.com/1349/">xkcd.com</a></small>
    </div>
  </div>
  <br>
  <br>
  <p class="flow-text white-text">
    How about when you have an application, which serves users from all over the world? Where you need to display
    date-times which are correct for all the different users? Who may work together on the same team, but live in
    different parts/zones of the world? Well then buckle your seat belts and prepare for liftoff! üöÄüöÄüöÄ
  </p>
  <br>
  <p class="flow-text white-text">
    The additional layer I‚Äôm referring to is of course time zones. A time zone is defined as ‚Äúa region of the globe
    which observes a uniform standard time‚Äù, but some might describe it as an abstract construct used to torment the
    souls of software developers and/or shorten their lifespan (granted that one might be a bit of a stretch).
  </p>
  <br>
  <p class="flow-text white-text">
    Okay‚Ä¶ so I may be slightly exaggerating the complexity of time zones, considering the fact that we (as a species)
    have put people on the moon, and sent probes out of our own solar system which are still sending us back data.
    Nonetheless, I have had some bad experiences with using time zones in software which has made me somewhat biased. I
    will share with you my bad experience and how I fixed it, but first‚Ä¶ let‚Äôs go over some basics!
  </p>
  <br>
  <p class="flow-text white-text">
    <code>// the basics</code>
  </p>
  <div id="world-map-timezones" style="width:100%; text-align:center">
    <img alt=""
         class="img-responsive"
         style="width:100%"
         src="../../../../images/timezones/world-map-timezones.png">
    <div style="margin-top:0px; padding-bottom:15px;">
      <small>
        <a target="_blank" href="https://en.wikipedia.org/wiki/Time_zone#/media/File:Standard_World_Time_Zones.png">
          Image source
        </a>
      </small>
    </div>
  </div>
  <br>
  <p class="flow-text white-text">
    Coordinated Universal Time (or <code>UTC</code> for short - guess that's what happens when English and
    French speakers have to work together to find a suitable abbreviation) is the absolute uniform standard
    time, by which all other times are measured. These other times (or zones) are measured by how much they
    are offset from <code>UTC</code> (also often referred to <code>GMT</code> - Greenwich Mean Time). For
    example New York city observes the EST (Eastern Standard Time) time zone which can also be written as
    <code>GMT-5</code> or <code>UTC-5</code>, which means it's exactly 5 hours behind <code>GMT</code> or
    <code>UTC</code>.
  </p>
  <br>
  <p class="flow-text white-text">
    <code>// a sensible solution exists</code>
  </p>
  <p class="flow-text white-text">
    So let's start making some sense of all of this. We have specific points in time to be stored. We have many
    people viewing and editing these date-times, who live in different zones, but should see the same time for
    them (relative to ‚Äútrue time‚Äù). The most obvious and sane solution is store all these times in a uniform
    standard format, and let each client (who should know their own zone) do the necessary conversion and/or
    adjustments when displaying or parsing date-times themselves. Piece of cake right?
  </p>
  <br>
  <p class="flow-text white-text">
    <code>// define the problem</code>
  </p>
  <p class="flow-text white-text">
    The only problem with that is Java, more specifically the <code>java.util.Date</code> and
    <code>Calendar</code> APIs. Java <code>Date</code>s themselves do not have any time zones (as they
    shouldn't), but their <code>#toString</code> methods, or any usage of something like
    <code>SimpleDateFormat</code> to parse or serialize them, will in fact use the <code>JVM</code>'s default
    time zone to do so.
  </p>
  <br>
  <p class="flow-text white-text">
    Granted these APIs have been a part of Java since the earliest versions, but I can't adequately explain how
    big of an issue this is. It may not sound like the biggest deal in the world, but I can assure you it has
    some pretty serious implications.
  </p>
  <br>
  <p class="flow-text white-text">
    Firstly let's imagine all the times we parse and serialize date-times in, for example, the OnePageCRM
    Android application. The mobile app interacts with OnePage data by means of the API. So for our example,
    that means sending info about date-times as well as receiving info about date-times (among other things).
  </p>
  <br>
  <div style="width:100%; height: 100%; text-align:center;">
    <div class="card">
      <img alt=""
           class="no-margins img-responsive"
           style="width:100%; height:100%;"
           src="../../../../images/timezones/data-flow.jpg">
    </div>
    <div style="margin-top:0px; padding-bottom:15px; color:white;">
      <small><code>Data flow</code></small>
    </div>
  </div>
  <br>
  <p class="flow-text white-text">
    Process of displaying a date to a user in the Android app:
  </p>
  <div class="flow-text white-text">
    <ul>
      <li>-> The API response containing date-times is parsed</li>
      <li>-> JSON is <b><i>converted</i></b> into POJOs (Plain Old Java Objects)</li>
      <li>-> Data is then stored in a local database using ORM (Object Relational Mapping)</li>
      <li>-> This refers to POJOs being <b><i>converted</i></b> into database entries</li>
      <li>-> To show the date-times to the user, we query them from the database</li>
      <li>-> The date-times are again <b><i>converted</i></b>, this time from db entries back to POJOs</li>
      <li>-> The UI needs a <code>String</code> to bind to the UI, not a POJO or <code>Date</code></li>
      <li>-> Finally the POJOs are again <b><i>converted</i></b> using formatters (fancier version of
        <code>#toString</code>)
      </li>
    </ul>
  </div>
  <br>
  <p class="flow-text white-text">
    Thanks for reading,
    <br>
    Cillian ‚úåÔ∏è
  </p>
  <br>
  <hr>
  <br>
  <p class="flow-text white-text">
    This post was also published on the
    <a target="<i>blank" href="https://developer.onepagecrm.com/blog/2018/09/27/a-brief-history-of-time-zones">
      OnePageCRM Developer Blog
    </a>
  </p>
  <br>
  <br>
</main>

<!-- Footer -->
<footer class="page-footer grey darken-2">
  <div class="container">
    <div class="row">
      <div class="col l6 s12">
        <p class="flow-text grey-text text-lighten-4">Dream. Believe. Fly.</p>
      </div>
      <div class="col l4 offset-l2 s12">
        <h5 class="white-text">Links</h5>
        <ul>
          <li>
            <a class="grey-text text-lighten-3" href="mailto:myles.cillian@gmail.com" target="_blank">
              Email
            </a>
          </li>
          <li>
            <a class="grey-text text-lighten-3" href="https://www.linkedin.com/in/cillianmyles" target="_blank">
              LinkedIn
            </a>
          </li>
          <li>
            <a class="grey-text text-lighten-3" href="https://github.com/CillianMyles" target="_blank">
              GitHub
            </a>
          </li>
          <li>
            <a class="grey-text text-lighten-3" href="https://www.meetup.com/members/195780629" target="_blank">
              Meetup
            </a>
          </li>
          <li>
            <a class="grey-text text-lighten-3" href="https://twitter.com/Mylsey4TheWin" target="_blank">
              Twitter
            </a>
          </li>
          <li>
            <a class="grey-text text-lighten-3" href="https://www.facebook.com/cillian.myles" target="_blank">
              Facebook
            </a>
          </li>
          <li>
            <a class="grey-text text-lighten-3" href="https://www.instagram.com/mylsey4thewin" target="_blank">
              Instagram
            </a>
          </li>
          <li>
            <a class="grey-text text-lighten-3" href="http://steamcommunity.com/id/mylsey4thewin" target="_blank">
              Steam
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="footer-copyright">
    <div class="container">
      ¬© 2018 Copyright
    </div>
  </div>
</footer>

<!-- Import jQuery before materialize.js -->
<script type="text/javascript" src="../../../../scripts/jquery-3.2.1.js"></script>

<!-- Import materialize.js -->
<script type="text/javascript" src="../../../../scripts/materialize.js"></script>

<!-- Side navigation -->
<script type="text/javascript">
      $(".button-collapse").sideNav();
</script>

<!-- Image slider -->
<script type="text/javascript">
      $(document).ready(function(){
        $('.slider').slider();
      });
</script>

<!-- Start of StatCounter Code -->
<script type="text/javascript" src="../../../../scripts/tracking.js"></script>
<noscript>
  <div class="statcounter">
    <a title="Web Analytics Made Easy - StatCounter" href="http://statcounter.com/" target="_blank">
      <img class="statcounter" src="//c.statcounter.com/11592789/0/05bd10b3/1/"
           alt="Web Analytics Made Easy - StatCounter">
    </a>
  </div>
</noscript>
<!-- End of StatCounter Code -->

</body>
</html>